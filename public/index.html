<!DOCTYPE html>
<html lang="en">

<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/ fb# website: http://ogp.me/ns/ website#">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>東京都知事候補者 スーパークレイジー君 西本誠 公認非公式サイト</title>

  <!-- og start -->
  <meta property="og:url" content="https://super-crazy.jp/index.html" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="東京都知事候補者 スーパークレイジー君 西本誠 公認非公式サイト" />
  <meta property="og:description" content="百合子か、俺か" />
  <meta property="og:site_name" content="東京都知事候補者 スーパークレイジー君 西本誠 公認非公式サイト" />
  <meta property="og:image" content="https://super-crazy.jp/super-crazy-majime-ogp.png" />
  <meta property='fb:app_id' content='https://super-crazy.jp/index.html'>
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@makoto__9999" />
  <!-- og end -->


  <style>
    * { user-select: none; }
    .navbar-brand { font-size: 1em !important; }
    canvas#countdown { background: #eee; display: block; margin: 0 auto; }
  </style>

  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  <script src="https://apis.google.com/js/platform.js"></script>
  <script src="https://peterolson.github.io/BigInteger.js/BigInteger.min.js"></script>

  <!-- bootstrap start -->
  <!-- CSS only -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <!-- JS, Popper.js, and jQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
  <!-- bootstrap end -->

  <!-- firebase start -->
  <!-- update the version number as needed -->
  <script defer src="/__/firebase/7.15.4/firebase-app.js"></script>
  <!-- include only the Firebase features as you need -->
  <script defer src="/__/firebase/7.15.4/firebase-auth.js"></script>
  <script defer src="/__/firebase/7.15.4/firebase-firestore.js"></script>
  <script defer src="/__/firebase/7.15.4/firebase-messaging.js"></script>
  <script defer src="/__/firebase/7.15.4/firebase-storage.js"></script>
  <script defer src="/__/firebase/7.15.4/firebase-analytics.js"></script>
  <!-- initialize the SDK after all desired features are loaded -->
  <script defer src="/__/firebase/init.js"></script>
  <!-- firebase end -->
</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-sm navbar-expand-md navbar-expand-lg navbar-dark bg-dark static-top">
    <div class="container">
      <a class="navbar-brand" href="https://super-crazy.jp/">スーパークレイジー君 西本誠 公認非公式サイト</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="navbar" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">トップページ
              <span class="sr-only">(current)</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/breakout.html">百合子崩し</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/5454.html">5454</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/factor.html">どんどん増えていって素数の時だけ円になるスーパークレイジー君</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/solar-system.html">スーパークレイジー君系</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/galaxy/">最終回 天の光は全てスーパークレイジー君</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Page Content -->
  <div class="jumbotron">
    <div class="container">
      <h1 class="display-1">百合子か、俺か</h1>
      <p class="lead">眠っている600万票に一番近い男</p>
      <div id="twitter-share-button-wrap">
        <a id="twitter-share-button" class="twitter-share-button"
          href="https://twitter.com/intent/tweet"
          data-text="スーパークレイジー君 西本誠 公認非公式サイト"
          data-hashtags="スーパークレイジー君,西本誠,東京都知事選挙"
          data-size="large">
            Tweet
        </a>
      </div>
      <a class="twitter-follow-button"
        href="https://twitter.com/makoto__9999"
        data-size="large">
      Follow @makoto__9999v
    </a>
    <br />
    <div class="g-ytsubscribe" data-channelid="UCQo5z9mIIEyhV0V1U9wUMYA" data-layout="full" data-count="default"></div>
    </div>
  </div>
  <div class="super-crazynize-container">
    <h1 class="text-center">いますぐスーパークレイジー君になってスーパークレイジー君を応援</h1>
    <h2 class="text-center"><a href="#" id="twitter-login-button"><img src="https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/icons/sign-in-with-twitter-link-png-img-fullhd-medium.png.img.fullhd.medium.png"></a></h2>
  </div>
  <div class="countdown-container">
    <h2>俺が都知事になるまで...</h2>
    <canvas id="countdown" width="1200" height="312"></canvas>
    <h1 class="text-right display-3">秒</h1>
  </div>
  <div class="clicker-container">
    <h1 class="text-center" style="font-size: 4em;"><span id="count"></span>票</h1>
    <h1 class="text-center">目標: 922京3372兆368億5477万5807票</h1>
    <canvas id="clicker" width="1200" height="150"></canvas>
    <h2 class="text-center">↑押して投票↑</h2>
    <h2 class="text-center">現在 1スーパークレイジー君＝<span id="unit"></span>票</h2>
  </div>
  <div class="container shadow my-5 p-1">
    <h2 class="display-3">スーパークレイジー君の政策</h2>
    <div class="list-group">
      <li class="list-group-item">
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1 display-4">1. 風営法の緩和</h5>
        </div>
        <p class="mb-1">風俗営業をはじめとする全ての飲食業の経済再開</p>
        <p class="mb-1">営業時間の規定を撤廃 24時間営業を推進します</p>
      </li>
      <li class="list-group-item">
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1 display-4">2. ペット殺処分ゼロ</h5>
        </div>
        <p class="mb-1">ペットを飼うためのライセンス制度を導入</p>
        <p class="mb-1">ペット殺処分における罰則の強化</p>
      </li>
      <li class="list-group-item">
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1 display-4">3. 待機児童ゼロ</h5>
        </div>
      </li>
    </div>
  </div>
  <div class="container shadow my-5 p-1">
    <h2 class="display-3">スーパークレイジー君 都知事選出馬の動機</h2>
    <div class="list-group">
      <li class="list-group-item">
        <div class="d-flex w-100 justify-content-between">
          <h5 class="mb-1 display-4">若者に選挙に興味を持ってもらって投票に行ってほしい</h5>
        </div>
      </li>
    </div>
  </div>
  <div class="container shadow my-5 p-1">
    <h2 class="display-3">スーパークレイジー君のYouTube</h2>
    <div class="row row-cols-1 row-cols-md-3">
      <div class="col mb-4">
        <div class="card h-100">
          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/QSVLy_be868" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="card-footer"></div>
      </div>
      <div class="col mb-4">
        <div class="card h-100">
          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/R4ofdwGAIpw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="card-footer"></div>
      </div>
      <div class="col mb-4">
        <div class="card h-100">
          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/z0T_CPjtE5g" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="card-footer"></div>
      </div>
      <div class="col mb-4">
        <div class="card h-100">
          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/HJhy0sAFsYc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="card-footer"></div>
      </div>
      <div class="col mb-4">
        <div class="card h-100">
          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/6Dv-0blLjZU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="card-footer"></div>
      </div>
      <div class="col mb-4">
        <div class="card h-100">
          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/kJoXoU8qKSk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="card-footer"></div>
      </div>
      <div class="col mb-4">
        <div class="card h-100">
          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/5gidLzGLooQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="card-footer"></div>
      </div>
      <div class="col mb-4">
        <div class="card h-100">
          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/WZxTYCznI-0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <div class="card-footer"></div>
      </div>
    </div>
  </div>

  <span>サイト開発・運営者： yuiseki@gmail.com</span>

<script>
    var ganmen = new Image();
    ganmen.src = "ganmenx128.png";

    /* util */
    var canvasRatio;
    var fitCanvas = function(canvas) {
      var displayWidth = document.body.clientWidth;
      canvasRatio = displayWidth / canvas.width;
      var height = canvas.height * canvasRatio;
      if (height < 200) {
        height = 200;
      }
      canvas.height = height;
      canvas.width = displayWidth;
    };

    var num2ja = function(num) {
      const keta = ['', '千', '万', '億', '兆', '京', '垓',
'𥝱', '穣', '溝', '澗', '正', '載', '極',
'恒河沙', '阿僧祇', '那由他', '不可思議', '無量大数',
'洛叉', '倶胝', '阿ゆ多', '那由他', '頻波羅', '矜羯羅', '阿伽羅', '最勝', '摩婆羅', '阿婆羅', '多婆羅',
'界分', '普摩', '禰摩', '阿婆鈐', '弥伽婆', '毘ら伽',
'毘伽婆', '僧羯邏摩', '毘薩羅', '毘贍婆', '毘盛伽', '毘素陀', '毘婆訶', '毘薄底', '毘きゃ擔',
'称量', '一持', '異路', '顛倒', '三末耶', '毘睹羅', '奚婆羅', '伺察', '周広', '高出', '最妙',
'泥羅婆', '訶理婆',
'一動', '訶理蒲', '訶理三', '奚魯伽', '達ら歩陀', '訶魯那',
'摩魯陀', '懺慕陀', 'えらい陀',
'摩魯摩', '調伏', '離きょう慢', '不動', '極量',
'阿麼怛羅', '勃麼怛羅', '伽麼怛羅', '那麼怛羅', '奚麼怛羅', 'べい麼怛羅', '鉢羅麼怛羅', '尸婆麼怛羅',
'翳羅', '薜羅', '諦羅', '偈羅', '歩羅', '泥羅', '計羅', '細羅', '睥羅', '謎羅',
'娑ら荼', '謎魯陀', '契魯陀', '摩睹羅', '娑母羅', '阿野娑', '迦麼羅', '摩伽婆',
'阿怛羅', '醯魯耶', '薜魯婆', '羯羅波', '訶婆婆', '毘婆羅', '那婆羅', '摩ら羅', '娑婆羅',
'迷ら普', '者麼羅', '駄麼羅', '鉢ら麼陀', '毘迦摩', '烏波跋多', 
'演説', '無尽', '出生', '無我', '阿畔多', '青蓮華', '鉢頭摩',
'僧祇', '趣', '至', '阿僧祇', '阿僧祇転',
'無量', '無量転', '無辺', '無辺転', '無等', '無等転', 
'不可数', '不可数転', '不可称', '不可称転', '不可思', '不可思転', '不可量', '不可量転', '不可説', '不可説転', '不可説不可説', '不可説不可説転',
'スーパークレイジー', 'ハイパークレイジー', 'ウルトラクレイジー', 'ミラクルクレイジー', 'アルティメットクレイジー',
'未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定',
'未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定',
'未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定',
'未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定',
'未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定', '未定',
                  ];

      let jaNum = '';
      let count = 0;
      num = num.toString();
      // 千
      if(num.length <= 3) {
        return num;
      }
      else {
        const n = num.slice(-3) - 0 + '';
        jaNum = [n !== '0' ? `${n}${keta[count]}` : '', jaNum].join('');
        num = bigInt(num).divide(bigInt(1000)).toString();
        count++;
      }
      // 万
      if(num.length > 1) {
        const n = num.slice(-1) - 0 + '';
        jaNum = [n !== '0' ? `${n}${keta[count]}` : '', jaNum].join('');
        num = bigInt(num).divide(bigInt(10)).toString();
        count++;
      }
      // それ以降
      while(num.length > 4) {
        const n = num.slice(-4) - 0 + '';
        jaNum = [n !== '0' ? `${n}${keta[count]}` : '', jaNum].join('');
        num = bigInt(num).divide(bigInt(10000)).toString();
        count++;
      }
      jaNum = [num !== '0' ? `${num}${keta[count]}` : '', jaNum].join('');
      return jaNum;
    }
    //alert(num2ja("179893486796973"))// 179兆8934億8679万6973

    /* countdown */
    var countdownCanvas = document.getElementById("countdown");
    var countdownContext = countdownCanvas.getContext("2d");
    fitCanvas(countdownCanvas);

    var const_width = 32 * canvasRatio;
    var const_height = 32 * canvasRatio;
    var countDownDate = new Date("Jul 5, 2020 20:00:00").getTime();
    var ato = 0;
    var x = setInterval(function() {
        var now = new Date().getTime();
        var distance = countDownDate - now;
        var days = Math.floor(distance / (1000 * 60 * 60 * 24));
        var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        var seconds = Math.floor((distance % (1000 * 60)) / 1000);
        ato = days * 3600 * 24 + hours * 3600 + minutes * 60 + seconds;
    }, 1);

    var drawCountdown = function() {
        countdownContext.clearRect(0, 0, countdownCanvas.width, countdownCanvas.height);
        ato_s = new String(ato);
        var base_x = 0;

        for(var i = 0; i < ato_s.length; i++) {
            var panel = panels[ato_s[i]];
            var x = base_x;
            var y = 0;
            for (j = 0; j < panel.length; j++) {
                var parts = panel[j];
                for (k = 0; k < parts.length; k++) {
                    if (parts[k] == 1) {
                        countdownContext.drawImage(ganmen, x, y, const_width, const_height);
                    }
                    x += const_width;
                }
                y += const_height;
                x = base_x;
            }
            base_x = base_x + const_width * 6;
        }
    }

    var panels = {
      "1": [
        [0,0,0,0,0],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,0],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,0],
      ],
      "2": [
        [0,1,1,1,0],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,1,1,1,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [0,1,1,1,0],
      ],
      "3": [
        [0,1,1,1,0],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,1,1,1,0],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,1,1,1,0],
      ],
      "4": [
        [0,0,0,0,0],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [0,1,1,1,0],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,0],
      ],
      "5": [
        [0,1,1,1,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [0,1,1,1,0],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,1,1,1,0],
      ],
      "6": [
        [0,1,1,1,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [1,0,0,0,0],
        [0,1,1,1,0],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [0,1,1,1,0],
      ],
      "7": [
        [0,1,1,1,0],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,0],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,0],
      ],
      "8": [
        [0,1,1,1,0],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [0,1,1,1,0],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [0,1,1,1,0],
      ],
      "9": [
        [0,1,1,1,0],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [0,1,1,1,0],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,0,0,0,1],
        [0,1,1,1,0],
      ],
      "0": [
        [0,1,1,1,0],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [0,0,0,0,0],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [1,0,0,0,1],
        [0,1,1,1,0],
      ],
    };

    /* clicker */
    var clickerCanvas = document.getElementById("clicker");
    var clickerContext = clickerCanvas.getContext("2d");
    fitCanvas(clickerCanvas);

    var centerX = (clickerCanvas.width/2);
    var centerY = (clickerCanvas.height/2);
    var rightPressed = false;
    var centerPressed = false;
    var leftPressed = false
    clickerCanvas.addEventListener("mousedown", mouseDownHandler, false);
    clickerCanvas.addEventListener("mouseup", mouseUpHandler, false);
    clickerCanvas.addEventListener("touchstart", mouseDownHandler, false);
    clickerCanvas.addEventListener("touchend", mouseUpHandler, false);

    function mouseDownHandler(e) {
        switch(e.which){
          case 1:
            leftPressed = true;
            randomGanmen();
            break;
          case 2:
            centerPressed = true;
            break;
          case 3:
            rightPressed = true;
            break;
        }
    };
    function mouseUpHandler(e) {
        switch(e.which){
          case 1:
            leftPressed = false;
            fallDownGanmen();
            break;
          case 2:
            centerPressed = false;
            break;
          case 3:
            rightPressed = true;
            break;
        }
    };
    var clickerCount = bigInt();
    var nextClickerCount = bigInt();
    var incrementNumber = bigInt();
    var incrementWait = bigInt();
    var incrementUnit = bigInt(10000);
    setInterval(()=>{
      if (clickerCount.lt(nextClickerCount)){
        clickerCount = clickerCount.plus(11111);
        var countJa = num2ja(clickerCount);
        var countDom = document.getElementById('count');
        countDom.innerHTML = countJa;
        var digit = clickerCount.toString().length;
        incrementUnit = Math.floor(Math.pow(10, digit-5));
        var unitJa = num2ja(incrementUnit);
        var unitDom = document.getElementById('unit');
        unitDom.innerHTML = unitJa;
      }
    }, 10);
    var incrementCounter = function(nextClickerCount){
      countJa = num2ja(nextClickerCount.toString());
      text = "スーパークレイジー君 予測得票数 "+countJa+"票";

    };
    var incrementFirebase = function(){
      firebase.analytics().logEvent('clicker_count_up');
      incrementWait = incrementWait.next();
      incrementNumber = incrementNumber.plus(incrementUnit).plus(1);
      nextClickerCount = incrementNumber.plus(clickerCount);
      clickerCount = clickerCount.plus(incrementUnit);
      incrementCounter(nextClickerCount);
      if(firebase.firestore && incrementWait > 10){
        incrementWait = bigInt();
        console.log("updateFirebase");
        var increment = firebase.firestore.FieldValue.increment(incrementNumber.toJSNumber());
        var db = firebase.firestore();
        var counter = db.collection('clicker').doc('all');
        counter.update({ count: increment })
      }
    };
    var fallDownGanmen = function(){
      let img = document.createElement('img');
      let documentHeight = $(document).height();
      let documentWidth = $(document).width();
      let top = 0;
      let left = Math.floor(Math.random() * (documentWidth-128));
      img.setAttribute('style', 'position: absolute; width: 64px; height: 64px;')
      img.setAttribute('src', 'ganmenx128.png');
      $(img).offset({top: top, left: left});
      document.body.appendChild(img);
      setInterval(() => {
        top = top + 1;
        $(img).animate({top: top+"%"}, 10);
        if(top>100){
          $(img).remove();
        }
      }, 100);
    };
    var randomGanmen = function() {
      var img = document.createElement('img');
      var documentHeight = $(document).height() - 128;
      var documentWidth = $(document).width() - 128;
      var top = Math.floor(Math.random() * (documentHeight));
      var left = Math.floor(Math.random() * (documentWidth));
      img.setAttribute('style', 'position: absolute; width: 64px; height: 64px;')
      img.setAttribute('src', 'ganmenx128.png');
      $(img).offset({top: top, left: left});
      document.body.appendChild(img);
      setInterval(() => {
        top = Math.floor(Math.random() * (documentHeight));
        left = Math.floor(Math.random() * (documentWidth));
        $(img).animate({top: top+"px", left: left+"px"}, 500);
      }, 1000);
      setTimeout(() => {
        $(img).remove();
      }, 10000);
      incrementFirebase();
    };

    var imageOriginZero = 0;
    var imageSize = 128;
    var drawSize32 = 32;
    var angle = 0;
    var drawClicker = function() {
        if (angle > 360) {
            angle = 0;
        } else {
            angle += 5;
        }
        clickerContext.clearRect(0, 0, clickerCanvas.width, clickerCanvas.height);
        
        clickerContext.save();
        clickerContext.translate(clickerCanvas.width/2+16, clickerCanvas.height/2);
        clickerContext.rotate(angle * (Math.PI / 180));
        if(leftPressed || Math.floor(angle)%30===0){
            clickerContext.drawImage(ganmen, -imageSize/2+32, -imageSize/2+32, 64, 64);
        }else{
            clickerContext.drawImage(ganmen, -imageSize/2, -imageSize/2, 128, 128);
        }
        clickerContext.restore();

        if (Math.floor(angle)%30===0){
          drawSize32 = 32;
        }else{
          drawSize32 = 24;
        }
        var i = 0;
        while(i<6){
          i++;
          // 左
          clickerContext.drawImage(ganmen, imageOriginZero, imageOriginZero, imageSize, imageSize, (clickerCanvas.width/2)-64, (clickerCanvas.height/2)-128+(32*i), drawSize32, drawSize32);
          clickerContext.drawImage(ganmen, imageOriginZero, imageOriginZero, imageSize, imageSize, (clickerCanvas.width/2)-96, (clickerCanvas.height/2)-128+(32*i), drawSize32, drawSize32);
          clickerContext.drawImage(ganmen, imageOriginZero, imageOriginZero, imageSize, imageSize, (clickerCanvas.width/2)-128, (clickerCanvas.height/2)-128+(32*i), drawSize32, drawSize32);
          clickerContext.drawImage(ganmen, imageOriginZero, imageOriginZero, imageSize, imageSize, (clickerCanvas.width/2)-160, (clickerCanvas.height/2)-128+(32*i), drawSize32, drawSize32);
          // 右
          clickerContext.drawImage(ganmen, imageOriginZero, imageOriginZero, imageSize, imageSize, (clickerCanvas.width/2)+64, (clickerCanvas.height/2)-128+(32*i), drawSize32, drawSize32);
          clickerContext.drawImage(ganmen, imageOriginZero, imageOriginZero, imageSize, imageSize, (clickerCanvas.width/2)+96, (clickerCanvas.height/2)-128+(32*i), drawSize32, drawSize32);
          clickerContext.drawImage(ganmen, imageOriginZero, imageOriginZero, imageSize, imageSize, (clickerCanvas.width/2)+128, (clickerCanvas.height/2)-128+(32*i), drawSize32, drawSize32);
          clickerContext.drawImage(ganmen, imageOriginZero, imageOriginZero, imageSize, imageSize, (clickerCanvas.width/2)+128, (clickerCanvas.height/2)-128+(32*i), drawSize32, drawSize32);
          clickerContext.drawImage(ganmen, imageOriginZero, imageOriginZero, imageSize, imageSize, (clickerCanvas.width/2)+160, (clickerCanvas.height/2)-128+(32*i), drawSize32, drawSize32);
          // 上
          clickerContext.drawImage(ganmen, imageOriginZero, imageOriginZero, imageSize, imageSize, (clickerCanvas.width/2)-96+(32*i), (clickerCanvas.height/2)-64, drawSize32, drawSize32);
          clickerContext.drawImage(ganmen, imageOriginZero, imageOriginZero, imageSize, imageSize, (clickerCanvas.width/2)-96+(32*i), (clickerCanvas.height/2)-96, drawSize32, drawSize32);
          // 下
          clickerContext.drawImage(ganmen, imageOriginZero, imageOriginZero, imageSize, imageSize, (clickerCanvas.width/2)-96+(32*i), (clickerCanvas.height/2)+32, drawSize32, drawSize32);
          clickerContext.drawImage(ganmen, imageOriginZero, imageOriginZero, imageSize, imageSize, (clickerCanvas.width/2)-96+(32*i), (clickerCanvas.height/2)+64, drawSize32, drawSize32);
        }
    };

    var draw = function() {
        drawCountdown();
        drawClicker();
        requestAnimationFrame(draw);
    }
    draw();

    $('#twitter-login-button').on('click', function(){
        firebase.auth().signInWithRedirect(twitterAuthProvider);
    })

    var twitterAuthProvider;
    var currentUser;
    $(document).ready(function () {
      setInterval(()=>{
        fallDownGanmen();
        randomGanmen();
      }, 1000);
      try {
        let app = firebase.app();
        let features = ['auth', 'database', 'messaging', 'storage'].filter(feature => typeof app[feature] === 'function');

        twitterAuthProvider = new firebase.auth.TwitterAuthProvider();
        firebase.auth().getRedirectResult().then(function(result) {
          if (result.credential) {
            var token = result.credential.accessToken;
            var secret = result.credential.secret;
          }
          currentUser = result.user;
        }).catch(function(error) {
          var errorCode = error.code;
          var errorMessage = error.message;
          var email = error.email;
          var credential = error.credential;
        });

        firebase.auth().onAuthStateChanged(function(user) {
          console.log(user)
          if (user===null){
            firebase.auth().signInAnonymously().catch(function(error) {
              var errorCode = error.code;
              console.log(errorCode);
              var errorMessage = error.message;
              console.log(errorMessage);
            });
          }
          if (user) {
            currentUser = user;
            var isAnonymous = user.isAnonymous;
            console.log("user.isAnonymous: "+isAnonymous);
            var uid = user.uid;
            console.log("user.uid: "+uid);
            var displayName = user.displayName;
            console.log("user.displayName: "+displayName);
            var email = user.email;
            console.log("user.email: "+email);
            var emailVerified = user.emailVerified;
            console.log("user.emailVerified: "+emailVerified);
            var photoURL = user.photoURL;
            console.log("user.photoURL: "+photoURL);
            var providerData = user.providerData;
            console.log("user.providerData: "+providerData);
            user.getIdToken(true).then(function(idToken) {
              console.log("user.idToken: "+ idToken)
            }).catch(function(error) {
              console.log(error)
            });
          }
        });

        var db = firebase.firestore();
        var counter = db.collection('clicker').doc('all').onSnapshot(function(doc){
          var newClickerCount = bigInt(Math.floor(doc.data()["count"]));
          if (nextClickerCount.eq(0)){
            nextClickerCount = newClickerCount;
          }
          if(clickerCount.lt(newClickerCount)){
            clickerCount = newClickerCount;
          }
        })

      } catch (e) {
        console.error(e);
      }
    });
</script>
</body>
</html>
